jQuery(document).ready(function(a){var b={init:function(){this.confirmAction()},confirmAction:function(){var b=a(".dedo_confirm_action");b.on("click",function(a){confirm(b.data("confirm"))||a.preventDefault()})}};b.init();var c={modal:null,init:function(){a(".dedo-modal")[0]&&(this.eventListeners(),this.showModal(),this.closeModal())},eventListeners:function(){self=this,a("body").on("click",".dedo-modal-action",function(b){self.modal=a(this).attr("href"),a("body").trigger("openModal"),b.preventDefault()}),a("body").on("click",".dedo-modal-close, #dedo-modal-background",function(b){self.modal=null,a("body").trigger("closeModal"),b.preventDefault()}),a("body").on("keyup",function(b){27==b.keyCode&&a("body").trigger("closeModal")})},showModal:function(b){self=this,a("body").on("openModal",function(){a("body").append(a('<div id="dedo-modal-background" style="display: none"></div>').fadeTo(300,.7)),a(self.modal).fadeIn(300)})},closeModal:function(){a("body").on("closeModal",function(){a("#dedo-modal-background").fadeOut(300,function(){a(this).remove()}),a(".dedo-modal").fadeOut(300)})}};c.init();var d={options:{},$popularDownloadsDropdown:a("#popular-downloads-dropdown"),$popularDownloadsSpinner:a("#ddownload-popular .spinner"),$popularDownloadsError:a("#ddownload-popular .error"),init:function(a){this.options=a,this.countDownloadsGet(),this.popularDownloadsChange()},countDownloadsGet:function(){var b=this;a.ajax({url:b.options.ajaxURL,data:{action:"dedo_count_downloads",nonce:b.options.nonce},dataType:"json",success:function(a){b.countDownloadsSuccess(a)},error:function(){b.downloadsError()}})},countDownloadsSuccess:function(b){"success"===b.status?(a.each(b.content,function(b,c){a("#"+b+" .count").text(c)}),a("#ddownload-count li").fadeTo(600,1)):this.downloadsError()},popularDownloadsChange:function(){this.$popularDownloadsDropdown.on("change",function(){d.popularDownloadsGet(a(this).val())})},popularDownloadsGet:function(b){var c=this;this.$popularDownloadsSpinner.css("display","inline-block"),a.ajax({url:c.options.ajaxURL,data:{action:"dedo_popular_downloads",nonce:c.options.nonce,days:b},dataType:"json",success:function(a){c.popularDownloadsSuccess(a)},error:function(){c.downloadsError()}})},popularDownloadsSuccess:function(b){if(this.$popularDownloadsError.fadeOut(300),this.$popularDownloadsSpinner.css("display","none"),"success"===b.status){var c;b.content.length>0?(c='<ol id="popular-downloads" style="display: none;">',a.each(b.content,function(a,b){c+="<li>",c+='<a href="'+b.url+'"><span class="position">'+(a+1)+".</span>"+b.title+' <span class="count">'+b.downloads+"</span></a>",c+="</li>"}),c+="</ol>"):c='<p id="popular-downloads" style="display: none;">'+this.options.noResultsText+"</p>",a("#popular-downloads").slideUp(300,function(){a(this).remove(),a(c).insertAfter("#ddownload-popular h4"),a("#popular-downloads").slideDown(300)})}else this.downloadsError()},downloadsError:function(){this.$popularDownloadsError.text(this.options.errorText).fadeIn(300)}};"undefined"!=typeof DEDODashboardOptions&&d.init(DEDODashboardOptions);var e={init:function(){this.settingsTabs(),this.toggleOptions(),this.deactivateLicense()},settingsTabs:function(){a("#dedo-settings-tabs a").on("click",function(b){var c=a(this);a(c).addClass("nav-tab-active").siblings(".nav-tab").removeClass("nav-tab-active"),a(c.attr("href")).siblings(".dedo-settings-tab:visible").hide(0,function(){a(c.attr("href")).show()}),a('input[name="_wp_http_referer"]').val(function(a,b){return b.replace(/&tab=[a-zA-z]+/g,"")+"&tab="+c.attr("href").replace("#dedo-settings-tab-","")}),b.preventDefault()})},toggleOptions:function(){var b=["grace_period","auto_delete","cache"];a(b).each(function(b,c){a(document).on("change",'[name="delightful-downloads['+c+']"]',function(b){1==a(this).val()?a("#"+c+"_sub").show():a("#"+c+"_sub").hide()})})},deactivateLicense:function(){a(".dedo-deactivate-license").on("click",function(b){a(this).siblings('input[type="text"]').val("")})}};e.init()});