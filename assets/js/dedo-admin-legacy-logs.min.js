jQuery(document).ready(function(a){var b={options:{},migrateContainer:a("#dedo_migrate_message"),migrateButton:a("#dedo_migrate_button"),migrateSpinner:a("#dedo_migrate_message .spinner"),migrateCount:a("#dedo_migrate_count"),init:function(a){this.options=a,this.toggle(),this.start(),this.stop(),this.success(),this.error()},toggle:function(){var b=this;this.migrateButton.on("click",function(){!1===b.migrating||"undefined"==typeof b.migrating?a(document).trigger("dedo_migrate_start"):a(document).trigger("dedo_migrate_stop")})},start:function(){var b=this;a(document).on("dedo_migrate_start",function(){b.migrateButton.attr("value",b.options.stop_text),b.migrating=!0,b.migrateSpinner.css("display","inline-block"),a.ajax({url:b.options.ajaxurl,data:{action:b.options.action,nonce:b.options.nonce},dataType:"json",success:function(b){"success"===b.status?a(document).trigger("dedo_migrate_success",b.content):a(document).trigger("dedo_migrate_error")}})})},stop:function(){var b=this;a(document).on("dedo_migrate_stop",function(){b.migrateButton.attr("value",b.options.migrate_text),b.migrating=!1,b.migrateSpinner.css("display","none")})},success:function(){var b=this;a(document).on("dedo_migrate_success",function(c,d){b.migrateCount.text(d),d>0&&!0===b.migrating&&a(document).trigger("dedo_migrate_start"),0===d&&(b.migrateContainer.removeClass("error").addClass("updated"),b.migrateButton.parent().slideUp("fast"))})},error:function(){var b=this;a(document).on("dedo_migrate_error",function(){a(document).trigger("dedo_migrate_stop"),alert(b.options.error_text)})}};"undefined"!=typeof dedo_admin_logs_migrate&&b.init(dedo_admin_logs_migrate)});